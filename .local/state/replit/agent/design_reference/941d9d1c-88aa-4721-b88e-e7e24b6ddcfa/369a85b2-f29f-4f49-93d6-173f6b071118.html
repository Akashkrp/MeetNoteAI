<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Meeting Notes Summarizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#64748b',
                        success: '#059669'
                    }
                }
            }
        };
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-50 font-sans">
    <!-- @COMPONENT: AppHeader -->
    <header class="bg-white border-b border-gray-200 py-4">
        <div class="max-w-4xl mx-auto px-4">
            <h1 class="text-2xl font-semibold text-gray-900">
                <i class="fas fa-file-text mr-2 text-primary"></i>
                AI Meeting Notes Summarizer
            </h1>
            <p class="text-sm text-gray-600 mt-1">Upload transcripts, add custom prompts, and generate AI-powered summaries</p>
        </div>
    </header>
    <!-- @END_COMPONENT: AppHeader -->

    <div class="max-w-4xl mx-auto px-4 py-8">
        <!-- @COMPONENT: WorkflowProgress -->
        <div class="mb-8">
            <div class="flex items-center justify-between text-sm">
                <div class="flex items-center text-primary" data-step="1">
                    <div class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-xs font-medium mr-2">1</div>
                    Upload
                </div>
                <div class="flex items-center text-gray-400" data-step="2">
                    <div class="w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-xs font-medium mr-2">2</div>
                    Prompt
                </div>
                <div class="flex items-center text-gray-400" data-step="3">
                    <div class="w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-xs font-medium mr-2">3</div>
                    Generate
                </div>
                <div class="flex items-center text-gray-400" data-step="4">
                    <div class="w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-xs font-medium mr-2">4</div>
                    Edit
                </div>
                <div class="flex items-center text-gray-400" data-step="5">
                    <div class="w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-xs font-medium mr-2">5</div>
                    Share
                </div>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-4">
                <div class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 20%" data-progress="20"></div>
            </div>
        </div>
        <!-- @END_COMPONENT: WorkflowProgress -->

        <!-- @COMPONENT: TranscriptUpload -->
        <section class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
            <h2 class="text-lg font-medium text-gray-900 mb-4">
                <i class="fas fa-upload mr-2"></i>
                Step 1: Upload Transcript
            </h2>
            
            <!-- File Upload Option -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Upload Text File</label>
                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors">
                    <input type="file" id="fileUpload" accept=".txt,.doc,.docx" class="hidden" data-implementation="Handle file upload and text extraction">
                    <label for="fileUpload" class="cursor-pointer">
                        <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                        <p class="text-gray-600">Click to upload or drag and drop</p>
                        <p class="text-xs text-gray-500 mt-1">Supports .txt, .doc, .docx files</p>
                    </label>
                </div>
                <div id="fileInfo" class="mt-2 text-sm text-gray-600 hidden">
                    <i class="fas fa-file-text mr-1"></i>
                    <span data-bind="uploadedFile.name">meeting-transcript.txt</span>
                    <span class="ml-2 text-xs text-gray-500">(<span data-bind="uploadedFile.size">2.3 KB</span>)</span>
                </div>
            </div>

            <div class="flex items-center justify-center mb-6">
                <div class="border-t border-gray-300 flex-grow"></div>
                <span class="px-3 text-sm text-gray-500 bg-white">OR</span>
                <div class="border-t border-gray-300 flex-grow"></div>
            </div>

            <!-- Text Paste Option -->
            <div>
                <label for="transcriptText" class="block text-sm font-medium text-gray-700 mb-2">Paste Transcript Text</label>
                <textarea 
                    id="transcriptText" 
                    class="w-full h-48 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent resize-vertical"
                    placeholder="Paste your meeting transcript or notes here..."
                    data-implementation="Should sync with file upload content"></textarea>
                <div class="flex justify-between mt-2">
                    <span class="text-xs text-gray-500">
                        <span data-bind="transcriptText.length">0</span> characters
                    </span>
                    <button type="button" class="text-xs text-gray-500 hover:text-gray-700" data-event="click:clearText">
                        <i class="fas fa-times mr-1"></i>Clear
                    </button>
                </div>
            </div>

            <div class="mt-6">
                <button 
                    type="button" 
                    id="nextToPrompt"
                    class="bg-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"
                    disabled
                    data-event="click:proceedToPrompt"
                    data-implementation="Enable when transcript content is available">
                    Continue to Prompt
                    <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </section>
        <!-- @END_COMPONENT: TranscriptUpload -->

        <!-- @COMPONENT: CustomPrompt -->
        <section class="bg-white rounded-lg border border-gray-200 p-6 mb-6 opacity-50" id="promptSection">
            <h2 class="text-lg font-medium text-gray-900 mb-4">
                <i class="fas fa-magic mr-2"></i>
                Step 2: Custom Instructions
            </h2>
            
            <div class="mb-4">
                <label for="customPrompt" class="block text-sm font-medium text-gray-700 mb-2">
                    How would you like the AI to summarize your transcript?
                </label>
                <textarea 
                    id="customPrompt" 
                    class="w-full h-24 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Example: Summarize in bullet points for executives, highlighting key decisions and action items with deadlines..."
                    data-implementation="Should provide context to AI API"></textarea>
            </div>

            <!-- Quick Prompt Templates -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Quick Templates</label>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    <button type="button" class="text-left p-2 text-sm border border-gray-200 rounded hover:bg-gray-50 transition-colors" data-template="executive">
                        <strong>Executive Summary:</strong> Key decisions and outcomes
                    </button>
                    <button type="button" class="text-left p-2 text-sm border border-gray-200 rounded hover:bg-gray-50 transition-colors" data-template="action">
                        <strong>Action Items:</strong> Tasks and deadlines only
                    </button>
                    <button type="button" class="text-left p-2 text-sm border border-gray-200 rounded hover:bg-gray-50 transition-colors" data-template="detailed">
                        <strong>Detailed Notes:</strong> Comprehensive summary
                    </button>
                    <button type="button" class="text-left p-2 text-sm border border-gray-200 rounded hover:bg-gray-50 transition-colors" data-template="topics">
                        <strong>Topic Breakdown:</strong> Organized by discussion points
                    </button>
                </div>
            </div>

            <div class="flex justify-between">
                <button 
                    type="button" 
                    class="text-gray-600 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                    data-event="click:backToUpload">
                    <i class="fas fa-arrow-left mr-2"></i>Back
                </button>
                <button 
                    type="button" 
                    id="generateSummary"
                    class="bg-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors"
                    data-event="click:generateSummary"
                    data-implementation="Should call AI API with transcript and prompt">
                    <i class="fas fa-robot mr-2"></i>Generate Summary
                </button>
            </div>
        </section>
        <!-- @END_COMPONENT: CustomPrompt -->

        <!-- @COMPONENT: LoadingState -->
        <section class="bg-white rounded-lg border border-gray-200 p-6 mb-6 hidden" id="loadingSection">
            <div class="text-center py-8">
                <div class="animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"></div>
                <h3 class="text-lg font-medium text-gray-900 mb-2">Generating Summary...</h3>
                <p class="text-gray-600">AI is processing your transcript and creating a summary based on your instructions.</p>
                <div class="mt-4 text-sm text-gray-500">
                    <span data-bind="loadingStatus">Analyzing transcript content...</span>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: LoadingState -->

        <!-- @COMPONENT: SummaryEditor -->
        <section class="bg-white rounded-lg border border-gray-200 p-6 mb-6 opacity-50 hidden" id="summarySection">
            <h2 class="text-lg font-medium text-gray-900 mb-4">
                <i class="fas fa-edit mr-2"></i>
                Step 3: Review & Edit Summary
            </h2>
            
            <div class="mb-4">
                <div class="flex justify-between items-center mb-2">
                    <label class="text-sm font-medium text-gray-700">Generated Summary</label>
                    <div class="flex items-center space-x-2">
                        <button type="button" class="text-xs text-gray-500 hover:text-gray-700" data-event="click:regenerate">
                            <i class="fas fa-redo mr-1"></i>Regenerate
                        </button>
                        <button type="button" class="text-xs text-gray-500 hover:text-gray-700" data-event="click:copyToClipboard">
                            <i class="fas fa-copy mr-1"></i>Copy
                        </button>
                    </div>
                </div>
                <div 
                    id="summaryEditor"
                    class="min-h-64 p-4 border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-primary focus-within:border-transparent"
                    contenteditable="true"
                    data-implementation="Rich text editor for summary editing"
                    data-bind="generatedSummary">
                    <!-- AI Generated content will appear here -->
                    <div data-mock="true">
                        <h3><strong>Meeting Summary - Project Alpha Review</strong></h3>
                        <br>
                        <h4><strong>Key Decisions:</strong></h4>
                        <ul>
                            <li>Approved budget increase of $50,000 for Q2 development</li>
                            <li>Moved project deadline to June 15th to accommodate quality testing</li>
                            <li>Selected vendor proposal from TechCorp for infrastructure</li>
                        </ul>
                        <br>
                        <h4><strong>Action Items:</strong></h4>
                        <ul>
                            <li><strong>Sarah (Marketing):</strong> Create campaign materials by May 20th</li>
                            <li><strong>Mike (Dev):</strong> Complete integration testing by June 1st</li>
                            <li><strong>Lisa (PM):</strong> Schedule client demo for June 10th</li>
                        </ul>
                        <br>
                        <h4><strong>Next Steps:</strong></h4>
                        <ul>
                            <li>Weekly progress reviews every Tuesday at 2 PM</li>
                            <li>Final presentation preparation begins June 5th</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Editing Tools -->
            <div class="border-t border-gray-200 pt-4">
                <div class="flex flex-wrap gap-2 mb-4">
                    <button type="button" class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50" data-format="bold">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button type="button" class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50" data-format="italic">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button type="button" class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50" data-format="underline">
                        <i class="fas fa-underline"></i>
                    </button>
                    <div class="border-l border-gray-300 mx-2"></div>
                    <button type="button" class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50" data-format="unorderedList">
                        <i class="fas fa-list-ul"></i>
                    </button>
                    <button type="button" class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50" data-format="orderedList">
                        <i class="fas fa-list-ol"></i>
                    </button>
                </div>
            </div>

            <div class="flex justify-between">
                <button 
                    type="button" 
                    class="text-gray-600 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                    data-event="click:backToPrompt">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Prompt
                </button>
                <button 
                    type="button" 
                    id="proceedToShare"
                    class="bg-success text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors"
                    data-event="click:proceedToShare">
                    Proceed to Share
                    <i class="fas fa-share mr-2"></i>
                </button>
            </div>
        </section>
        <!-- @END_COMPONENT: SummaryEditor -->

        <!-- @COMPONENT: EmailSharing -->
        <section class="bg-white rounded-lg border border-gray-200 p-6 mb-6 opacity-50 hidden" id="sharingSection">
            <h2 class="text-lg font-medium text-gray-900 mb-4">
                <i class="fas fa-envelope mr-2"></i>
                Step 4: Share Summary via Email
            </h2>
            
            <div class="space-y-4">
                <div>
                    <label for="emailSubject" class="block text-sm font-medium text-gray-700 mb-2">Email Subject</label>
                    <input 
                        type="text" 
                        id="emailSubject"
                        class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
                        value="Meeting Summary - Project Alpha Review"
                        data-bind="email.subject">
                </div>

                <div>
                    <label for="emailRecipients" class="block text-sm font-medium text-gray-700 mb-2">
                        Recipients (comma separated)
                    </label>
                    <input 
                        type="email" 
                        id="emailRecipients"
                        class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
                        placeholder="john@company.com, sarah@company.com, team@company.com"
                        multiple
                        data-implementation="Should validate email addresses and split by comma">
                </div>

                <div>
                    <label for="emailMessage" class="block text-sm font-medium text-gray-700 mb-2">
                        Additional Message (Optional)
                    </label>
                    <textarea 
                        id="emailMessage"
                        class="w-full h-24 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
                        placeholder="Hi team, please find the meeting summary below. Let me know if you have any questions..."
                        data-bind="email.message"></textarea>
                </div>

                <!-- Email Preview -->
                <div class="border border-gray-200 rounded-md p-4 bg-gray-50">
                    <h4 class="text-sm font-medium text-gray-700 mb-2">Email Preview</h4>
                    <div class="text-xs text-gray-600 space-y-1">
                        <div><strong>To:</strong> <span data-bind="email.recipients">john@company.com, sarah@company.com</span></div>
                        <div><strong>Subject:</strong> <span data-bind="email.subject">Meeting Summary - Project Alpha Review</span></div>
                        <div class="mt-2 p-2 bg-white rounded border text-xs">
                            <div data-bind="email.message" class="mb-2">Hi team, please find the meeting summary below.</div>
                            <div class="text-gray-500 italic">--- Meeting Summary Content Will Be Included ---</div>
                        </div>
                    </div>
                </div>

                <!-- Send Options -->
                <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                    <div class="flex items-start">
                        <div class="flex-shrink-0">
                            <i class="fas fa-info-circle text-blue-400"></i>
                        </div>
                        <div class="ml-3">
                            <h4 class="text-sm font-medium text-blue-800">Email Options</h4>
                            <div class="mt-2 space-y-2">
                                <label class="flex items-center text-sm text-blue-700">
                                    <input type="checkbox" class="mr-2" checked data-option="includeOriginal">
                                    Include original transcript as attachment
                                </label>
                                <label class="flex items-center text-sm text-blue-700">
                                    <input type="checkbox" class="mr-2" data-option="sendCopy">
                                    Send a copy to myself
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex justify-between mt-6">
                <button 
                    type="button" 
                    class="text-gray-600 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                    data-event="click:backToSummary">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Summary
                </button>
                <button 
                    type="button" 
                    id="sendEmail"
                    class="bg-success text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors"
                    data-event="click:sendEmail"
                    data-implementation="Should validate emails and send via email service">
                    <i class="fas fa-paper-plane mr-2"></i>Send Email
                </button>
            </div>
        </section>
        <!-- @END_COMPONENT: EmailSharing -->

        <!-- @COMPONENT: SuccessState -->
        <section class="bg-white rounded-lg border border-green-200 p-6 mb-6 hidden" id="successSection">
            <div class="text-center py-8">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-check-circle text-3xl text-green-600"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mb-2">Summary Sent Successfully!</h3>
                <p class="text-gray-600 mb-4">Your meeting summary has been sent to <span data-bind="sentTo">3 recipients</span></p>
                
                <div class="flex justify-center space-x-4">
                    <button 
                        type="button" 
                        class="bg-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors"
                        data-event="click:startNew">
                        <i class="fas fa-plus mr-2"></i>Create New Summary
                    </button>
                    <button 
                        type="button" 
                        class="text-gray-600 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                        data-event="click:downloadSummary">
                        <i class="fas fa-download mr-2"></i>Download Summary
                    </button>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: SuccessState -->

        <!-- @COMPONENT: ErrorHandling -->
        <div id="errorToast" class="fixed top-4 right-4 bg-red-50 border border-red-200 rounded-md p-4 hidden" data-error-container="true">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-circle text-red-400"></i>
                </div>
                <div class="ml-3">
                    <h4 class="text-sm font-medium text-red-800">Error</h4>
                    <p class="mt-1 text-sm text-red-700" data-error-message="Something went wrong. Please try again."></p>
                </div>
                <div class="ml-auto pl-3">
                    <button type="button" class="text-red-400 hover:text-red-600" data-dismiss-error="true">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: ErrorHandling -->
    </div>

    <script>
        // TODO: Implement business logic, API calls, and state management
        (function() {
            'use strict';
            
            // Basic workflow state management
            let currentStep = 1;
            let appState = {
                transcript: '',
                prompt: '',
                summary: '',
                emailData: {}
            };

            // Progress indicator updates
            function updateProgress(step) {
                currentStep = step;
                const progressBar = document.querySelector('[data-progress]');
                const stepIndicators = document.querySelectorAll('[data-step]');
                
                // Update progress bar
                const progressPercentage = (step / 5) * 100;
                progressBar.style.width = progressPercentage + '%';
                
                // Update step indicators
                stepIndicators.forEach((indicator, index) => {
                    const stepNumber = index + 1;
                    const circle = indicator.querySelector('div');
                    
                    if (stepNumber <= step) {
                        circle.className = 'w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-xs font-medium mr-2';
                        indicator.className = 'flex items-center text-primary';
                    } else {
                        circle.className = 'w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-xs font-medium mr-2';
                        indicator.className = 'flex items-center text-gray-400';
                    }
                });
            }

            // Section visibility management
            function showSection(sectionId) {
                const sections = ['promptSection', 'loadingSection', 'summarySection', 'sharingSection', 'successSection'];
                sections.forEach(id => {
                    const section = document.getElementById(id);
                    if (id === sectionId) {
                        section.classList.remove('hidden', 'opacity-50');
                    } else if (id === 'loadingSection') {
                        section.classList.add('hidden');
                    } else {
                        section.classList.add('opacity-50');
                    }
                });
            }

            // File upload handling
            document.getElementById('fileUpload').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const fileInfo = document.getElementById('fileInfo');
                    fileInfo.classList.remove('hidden');
                    // TODO: Read file content and populate textarea
                    enableNextButton();
                }
            });

            // Text input handling
            document.getElementById('transcriptText').addEventListener('input', function(e) {
                const hasContent = e.target.value.trim().length > 0;
                if (hasContent) {
                    enableNextButton();
                }
            });

            function enableNextButton() {
                document.getElementById('nextToPrompt').disabled = false;
                updateProgress(2);
                showSection('promptSection');
            }

            // Template button handling
            document.querySelectorAll('[data-template]').forEach(button => {
                button.addEventListener('click', function() {
                    const templates = {
                        executive: "Summarize this meeting in bullet points for executives, focusing on key decisions, budget impacts, and strategic outcomes.",
                        action: "Extract only action items from this meeting, including who is responsible and any mentioned deadlines.",
                        detailed: "Create a comprehensive summary of this meeting, organized by topics discussed with all important details preserved.",
                        topics: "Break down this meeting summary by discussion topics, organizing related points under clear headings."
                    };
                    document.getElementById('customPrompt').value = templates[this.dataset.template];
                });
            });

            // Mock AI generation
            document.getElementById('generateSummary').addEventListener('click', function() {
                showSection('loadingSection');
                updateProgress(3);
                
                // Simulate AI processing
                setTimeout(() => {
                    showSection('summarySection');
                    updateProgress(4);
                }, 3000);
            });

            // Rich text editing simulation
            document.querySelectorAll('[data-format]').forEach(button => {
                button.addEventListener('click', function() {
                    document.execCommand(this.dataset.format, false, null);
                });
            });

            // Proceed to sharing
            document.getElementById('proceedToShare').addEventListener('click', function() {
                showSection('sharingSection');
                updateProgress(5);
            });

            // Email sending simulation
            document.getElementById('sendEmail').addEventListener('click', function() {
                const recipients = document.getElementById('emailRecipients').value;
                if (!recipients) {
                    showError('Please enter at least one recipient email address.');
                    return;
                }
                
                // Simulate email sending
                setTimeout(() => {
                    showSection('successSection');
                }, 1500);
            });

            function showError(message) {
                const errorToast = document.getElementById('errorToast');
                const errorMessage = errorToast.querySelector('[data-error-message]');
                errorMessage.textContent = message;
                errorToast.classList.remove('hidden');
                
                setTimeout(() => {
                    errorToast.classList.add('hidden');
                }, 5000);
            }

            // Error dismissal
            document.querySelector('[data-dismiss-error]').addEventListener('click', function() {
                document.getElementById('errorToast').classList.add('hidden');
            });

            // Start new summary
            document.querySelector('[data-event="click:startNew"]').addEventListener('click', function() {
                location.reload();
            });

            // Initialize
            updateProgress(1);
        })();
    </script>
</body>
</html>